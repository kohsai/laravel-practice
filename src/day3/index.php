<?php
// ã€Laravelæ•™æã€‘Step3 æ•™æâ‘ ï¼šRESTfulãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®åŸºæœ¬ã¨ãƒªã‚½ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒˆã®å…¨ä½“åƒ

// âœ… ä»Šå›ã®ç›®çš„
// - Laravelã«ãŠã‘ã‚‹ RESTfulãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ã®è€ƒãˆæ–¹ã‚’æ•´ç†ã™ã‚‹
// - Route::resource() ã®å½¹å‰²ã¨ã€ã©ã®ãƒ«ãƒ¼ãƒˆãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹ã‹ã‚’ç†è§£ã™ã‚‹
// - HTTPãƒ¡ã‚½ãƒƒãƒ‰ã®æ„å‘³ã¨CRUDã®å¯¾å¿œé–¢ä¿‚ã‚’æ˜ç¢ºã«ã™ã‚‹

// --------------------------------------------------
// ğŸ”° HTTPãƒ¡ã‚½ãƒƒãƒ‰ã¨ã¯ï¼Ÿï¼ˆRESTè¨­è¨ˆã®åŸºç¤ï¼‰
// --------------------------------------------------

// HTTPãƒ¡ã‚½ãƒƒãƒ‰ã¨ã¯ã€ã€Œã‚µãƒ¼ãƒãƒ¼ã«ã©ã†ã—ã¦ã»ã—ã„ã‹ã€ã‚’ä¼ãˆã‚‹å‘½ä»¤ã§ã™ã€‚
// ä¾‹ãˆã°ã€Œè¡¨ç¤ºã—ã¦ã€ã€Œç™»éŒ²ã—ã¦ã€ã€Œæ›´æ–°ã—ã¦ã€ã€Œå‰Šé™¤ã—ã¦ã€ã¨ã„ã£ãŸæ“ä½œã‚’æ˜ç¢ºã«åŒºåˆ¥ã™ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã¾ã™ã€‚

// Laravelã§é »å‡ºã™ã‚‹4ã¤ã®HTTPãƒ¡ã‚½ãƒƒãƒ‰ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

// | ãƒ¡ã‚½ãƒƒãƒ‰ | èª­ã¿æ–¹   | ä¸»ãªå½¹å‰²                   | Laravelã§ã®ä½¿ã„ã©ã“ã‚              |
// |----------|----------|----------------------------|------------------------------------|
// | GET      | ã‚²ãƒƒãƒˆ   | ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹           | ä¸€è¦§è¡¨ç¤ºãƒ»è©³ç´°è¡¨ç¤ºãªã©             |
// | POST     | ãƒã‚¹ãƒˆ   | æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã™ã‚‹     | ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡ï¼ˆç™»éŒ²å‡¦ç†ï¼‰ãªã©     |
// | PUT      | ãƒ—ãƒƒãƒˆ   | æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ä¸Šæ›¸ãæ›´æ–°     | ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ ã®ä¿å­˜å‡¦ç†ãªã©         |
// | DELETE   | ãƒ‡ãƒªãƒ¼ãƒˆ | ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã™ã‚‹           | å‰Šé™¤ãƒœã‚¿ãƒ³ã®å‡¦ç†ãªã©               |

// --------------------------------------------------
// ğŸ§  ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã‚„ã™ã„ä¾‹ï¼šå•†å“ãƒªã‚¹ãƒˆï¼ˆitemsï¼‰
// --------------------------------------------------

// | å‡¦ç†ã—ãŸã„å†…å®¹        | URL               | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | å¯¾å¿œã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ |
// |-----------------------|-------------------|--------------|------------------|
// | å•†å“ä¸€è¦§ã‚’è¦‹ãŸã„       | /items            | GET          | index()          |
// | æ–°ã—ã„å•†å“ã‚’ç™»éŒ²ã—ãŸã„ | /items            | POST         | store()          |
// | å•†å“ã®è©³ç´°ã‚’è¦‹ãŸã„     | /items/{id}       | GET          | show()           |
// | å•†å“ã‚’æ›´æ–°ã—ãŸã„       | /items/{id}       | PUT          | update()         |
// | å•†å“ã‚’å‰Šé™¤ã—ãŸã„       | /items/{id}       | DELETE       | destroy()        |

// ğŸ” HTMLãƒ•ã‚©ãƒ¼ãƒ ã§ã¯ GET/POST ã—ã‹ä½¿ãˆã¾ã›ã‚“ã€‚
// Laravelã§ã¯ @method('PUT') ã‚„ @method('DELETE') ã‚’ä½¿ã£ã¦ã€ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ã‚‚å¯¾å¿œã§ãã¾ã™ã€‚

// ä¾‹ï¼šBladeå†…ã§ã®PUTãƒ•ã‚©ãƒ¼ãƒ 
/*
<form method="POST" action="/items/5">
    @csrf
    @method('PUT')
    <input type="text" name="name">
    <button type="submit">æ›´æ–°</button>
</form>
*/

// --------------------------------------------------
// âœ… Laravelã«ãŠã‘ã‚‹ RESTfulãƒ«ãƒ¼ãƒˆã¨ resource()
// --------------------------------------------------

// â— é€šå¸¸ã®ãƒ«ãƒ¼ãƒˆå®šç¾©ï¼ˆ7ã¤ï¼‰ã‚’æ‰‹å‹•ã§æ›¸ãã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

/*
Route::get('/items', [ItemController::class, 'index']);
Route::get('/items/create', [ItemController::class, 'create']);
Route::post('/items', [ItemController::class, 'store']);
Route::get('/items/{id}', [ItemController::class, 'show']);
Route::get('/items/{id}/edit', [ItemController::class, 'edit']);
Route::put('/items/{id}', [ItemController::class, 'update']);
Route::delete('/items/{id}', [ItemController::class, 'destroy']);
*/

// â— Laravelã§ã¯ã€ã“ã‚Œã‚’1è¡Œã§ã¾ã¨ã‚ã¦å®šç¾©ã§ãã¾ã™ï¼š
/*
Route::resource('items', ItemController::class);
*/

// --------------------------------------------------
// âœ… CRUDæ“ä½œã¨è‡ªå‹•ç”Ÿæˆãƒ«ãƒ¼ãƒˆã®ä¸€è¦§
// --------------------------------------------------

// | å‡¦ç†     | ãƒ¡ã‚½ãƒƒãƒ‰ | URLä¾‹             | ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®ãƒ¡ã‚½ãƒƒãƒ‰ |
// |----------|----------|-------------------|--------------------------|
// | ä¸€è¦§     | GET      | /items            | index()                  |
// | ä½œæˆç”»é¢ | GET      | /items/create     | create()                 |
// | ç™»éŒ²å‡¦ç† | POST     | /items            | store()                  |
// | è©³ç´°è¡¨ç¤º | GET      | /items/{id}       | show()                   |
// | ç·¨é›†ç”»é¢ | GET      | /items/{id}/edit  | edit()                   |
// | æ›´æ–°å‡¦ç† | PUT      | /items/{id}       | update()                 |
// | å‰Šé™¤å‡¦ç† | DELETE   | /items/{id}       | destroy()                |

// --------------------------------------------------
// âœ… å­¦ç¿’ã®ãƒã‚¤ãƒ³ãƒˆã¾ã¨ã‚
// --------------------------------------------------

// - HTTPãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã‚’æ­£ç¢ºã«ç†è§£ã™ã‚‹ã“ã¨ãŒRESTfulè¨­è¨ˆã®ç¬¬ä¸€æ­©
// - Route::resource() ã‚’ä½¿ãˆã°ã€LaravelãŒå¿…è¦ãªãƒ«ãƒ¼ãƒˆã¨æ§‹é€ ã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ãã‚Œã‚‹
// - å®Ÿå‹™ã§ã‚‚CRUDã‚’æ‰±ã†å ´é¢ã§ã¯ã“ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒä¸€èˆ¬çš„

// æ¬¡ã®æ•™æâ‘¡ã§ã¯ã€å®Ÿéš›ã«ãƒ«ãƒ¼ãƒˆã¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’ä½œæˆã—ã€å‹•ä½œç¢ºèªã‚’è¡Œã„ã¾ã™ã€‚
